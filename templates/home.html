{% extends "base.html" %}
{% load static %}

{% block title %}Projeto On Crist - Paróquia{% endblock %}

{% block content %}
<!-- Seção de boas-vindas com container verde claro -->
<div class="container-fluid welcome-section py-4">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 col-md-5 col-sm-12">
                <h2 class="mb-3 text-dark fw-bold">
                    <i class="fas fa-church text-primary me-2"></i>
                    Paróquia: <span class="paroquia-nome text-primary">{{ paroquia.PAR_nome_paroquia|default:"[Nome da Paróquia]" }}</span>
                </h2>
                <p class="lead mb-2 text-dark">
                    <i class="fas fa-heart text-danger me-2"></i>
                    Bem-vindos à nossa comunidade de fé!
                </p>
                <p class="text-dark fw-bold">
                    Hoje, com a evolução da tecnologia, as informações estão mais fáceis de ser acessadas, distribuídas e divulgadas, 
                    mesmo que muitas dessas informações sejam questionáveis quanto à sua veracidade; isso nos coloca expostos a todo 
                    tipo de informação que nem sempre vai no caminho da legalidade, da ética e, sobretudo, no caminho do SENHOR. 
                    Foi baseado neste contexto que criamos este aplicativo que une tecnologia e fé, uma nova maneira de estarmos 
                    mais próximos aos nossos próximos.
                </p>
            </div>
            <div class="col-lg-6 col-md-7 col-sm-12 text-center">
                {% if visual and visual.VIS_FOTO_PRINCIPAL %}
                    <img src="{{ visual.VIS_FOTO_PRINCIPAL.url }}" alt="Imagem Principal" class="img-fluid catedral-image" style="max-height: 286px; max-width: 100%; min-width: 253px; object-fit: contain;">
                {% else %}
                    <img src="{% static 'img/oncristo2.png' %}" alt="Jesus Cristo com Smartphone" class="img-fluid catedral-image" style="max-height: 286px; max-width: 100%; min-width: 253px; object-fit: contain;">
                {% endif %}
            </div>
        </div>
    </div>
</div>
<!#########################################
Seção de Informações e Serviços
#########################################>
<div class="container py-5">
    <div class="row g-4">
        <!-- Informações -->
        <div class="col-lg-6 col-md-12">
            <div class="card h-100 shadow-sm border-0" style="background: linear-gradient(135deg, #cfe2ff 0%, #b6d4fe 50%, #9ec5fe 100%) !important;">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">
                        <i class="fas fa-info-circle me-2"></i>
                        Informações
                    </h4>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirHorarios()">
                            <i class="fas fa-church me-3 text-primary"></i>
                            <div>
                                <h6 class="mb-1">Horários de Missas</h6>
                                <small class="text-muted">Horários e celebrações</small>
                            </div>
                        </a>
                        <!-- Contato -->
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirContato()">
                            <i class="fas fa-phone-alt me-3 text-success"></i>
                            <div>
                                <h6 class="mb-1">Contato</h6>
                                <small class="text-muted">Fale conosco</small>
                            </div>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirLiturgia()">
                            <i class="fas fa-bible me-3 text-info"></i>
                            <div>
                                <h6 class="mb-1">Liturgia Diária</h6>
                                <small class="text-muted">Fonte de vida</small>
                            </div>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirAniversariantes()">
                            <i class="fas fa-birthday-cake me-3 text-pink"></i>
                            <div>
                                <h6 class="mb-1">Aniversariantes do Mês</h6>
                                <small class="text-muted">Celebrações do mês</small>
                            </div>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirEventos()">
                            <i class="fas fa-calendar-alt me-3 text-warning"></i>
                            <div>
                                <h6 class="mb-1">Calendário de Eventos</h6>
                                <small class="text-muted">Programação da paróquia</small>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <!#########################################
        <!-- SERVICOS -->
        <!#########################################>
        <div class="col-lg-6 col-md-12">
            <div class="card h-100 shadow-sm border-0" style="background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 50%, #b1dfbb 100%) !important;">
                <div class="card-header bg-success text-white">
                    <h4 class="mb-0">
                        <i class="fas fa-hands-helping me-2"></i>
                        Serviços
                    </h4>
                </div>
                <div class="card-body">
                    <div class="list-group list-group-flush">
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirIntencoes()">
                            <i class="fas fa-fan me-3 text-info"></i>
                            <div>
                                <h6 class="mb-1">Agendar Celebrações</h6>
                                <small class="text-muted">Agradecimentos, Pedidos e orações, Missa 7º. Dia</small>
                            </div>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirDizimista()">
                            <i class="fas fa-hands-helping me-3 text-success"></i>
                            <div>
                                <h6 class="mb-1">Quero ser Dizimista</h6>
                                <small class="text-muted">Junte-se à nossa comunidade de fé e amor</small>
                            </div>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirAvisos()">
                            <i class="fas fa-bullhorn me-3 text-primary"></i>
                            <div>
                                <h6 class="mb-1">Avisos da Paróquia</h6>
                                <small class="text-muted">Confere a agenda Paroquial</small>
                            </div>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirDoacoes()">
                            <i class="fas fa-hand-holding-heart me-3 text-success"></i>
                            <div>
                                
                                
                                <small class="text-muted">PIX, Cartões ou Boleto</small>
                            </div>
                        </a>
                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center" onclick="abrirPedidosOracao()">
                            <i class="fas fa-pray me-3 text-primary"></i>
                            <div>
                                <h6 class="mb-1">Pedidos de Orações</h6>
                                <small class="text-muted">Orações, Agradecimentos, Louvores...</small>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!#########################################
# FINAL DA SEÇÃO DE INFORMAÇÕES E SERVIÇOS
#########################################>

<!#########################################
# Seção de Mural de Fotos
#########################################>
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-sm border-0" style="background: linear-gradient(135deg, #fff3cd 0%, #ffeeba 100%) !important;">
                <div class="card-header bg-warning text-dark">
                    <h4 class="mb-0">
                        <i class="fas fa-images me-2"></i>
                        Mural de Fotos
                    </h4>
                </div>
                <div class="card-body">
                    <p class="text-center text-muted mb-4">
                        Confira os momentos especiais da nossa comunidade!
                    </p>
                    <div class="row g-3 mb-4">
                        {% for mural in murais_recentes %}
                        <div class="col-md-4">
                            {% if mural.MUR_foto1_mural %}
                            <a href="{% url 'app_igreja:mural_publico' mural.MUR_ID %}" style="text-decoration: none; display: block;">
                                <img src="{{ mural.MUR_foto1_mural.url }}" alt="{{ mural.MUR_titulo_mural }}" class="img-fluid rounded shadow-sm" style="cursor: pointer; transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                                <p class="text-center mt-2 text-muted small">{{ mural.MUR_titulo_mural }}</p>
                            </a>
                            {% else %}
                            <div class="bg-light rounded shadow-sm d-flex align-items-center justify-content-center" style="height: 200px;">
                                <span class="text-muted">Sem foto</span>
                            </div>
                            {% endif %}
                        </div>
                        {% empty %}
                        <div class="col-12">
                            <p class="text-center text-muted">Nenhum mural disponível no momento.</p>
                        </div>
                        {% endfor %}
                    </div>
                    <div class="text-center mb-3">
                        <button class="btn btn-warning" onclick="buscarMural()">
                            <i class="fas fa-search me-1"></i>
                            Buscar
                        </button>
                    </div>
                    <div id="mural-resultados" class="mt-4">
                        <!-- Resultados da busca serão carregados aqui -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript para funcionalidades da página -->
<script>
// Funções placeholder para links comentados
function abrirHorarios() {
    // Redireciona para a página de horários de missas
    window.location.href = '/app_igreja/horarios-missas/';
}

function abrirContato() {
    window.location.href = '/app_igreja/contatos/?t=' + Date.now();
}

function abrirLiturgia() {
    // Redireciona para a área pública de liturgias
    window.location.href = '/app_igreja/liturgias/';
}

function abrirAniversariantes() {
    // Redireciona para a página de aniversariantes do mês
    window.location.href = '/app_igreja/aniversariantes-mes/';
}

function abrirEventos() {
    alert('Funcionalidade de Eventos será implementada em breve!');
}

function abrirIntencoes() {
    // Redireciona para a página de agendamento de celebrações
    window.location.href = '/app_igreja/agendar-celebracaoes/';
}

function abrirDizimista() {
    // Redireciona para a página de cadastro público de dizimistas
    window.location.href = '/app_igreja/quero-ser-dizimista/';
}

function abrirAvisos() {
    // Redireciona para a página de avisos da paróquia
    window.location.href = '/app_igreja/avisos-paroquia/';
}

function abrirDoacoes() {
    // Redireciona para a página de doações
    window.location.href = '/app_igreja/doacoes/';
}

function abrirPedidosOracao() {
    // Redireciona para a página de consulta de pedidos de orações
    window.location.href = '/app_igreja/meus-pedidos-oracoes/';
}

function buscarMural() {
    alert('Funcionalidade de Busca no Mural será implementada em breve!');
}

</script>

{% endblock %}